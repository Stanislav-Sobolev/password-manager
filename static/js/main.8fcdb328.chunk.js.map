{"version":3,"sources":["hooks/useAuth.js","components/SharedLayout/SharedLayout.jsx","components/PrivateRoute.js","components/PublicRoute.js","components/App.jsx","index.js","components/Contacts/PhoneBook.styled.js","Redux/authOperations.js","components/store.js"],"names":["useAuth","isLoggedIn","useSelector","state","auth","isRefreshing","isRefreshingUser","user","SharedLayout","_useAuth","dispatch","useDispatch","react_default","a","createElement","Fragment","PhoneBook_styled","to","name","Stack","direction","spacing","Avatar","src","Button","variant","size","onClick","operations","logOut","react","fallback","dist","PrivateRoute","_ref","Component","component","_ref$redirectTo","redirectTo","PublicRoute","_ref$restricted","restricted","Registration","lazy","__webpack_require__","e","then","bind","Login","Contacts","Promise","all","App","useEffect","authOperations","fetchCurrentUser","path","element","components_SharedLayout_SharedLayout","index","ReactDOM","createRoot","document","getElementById","render","StrictMode","es","store","integration_react","loading","persistor","react_router_dom_dist","basename","NavigationWrap","styled","nav","_templateObject","Object","_home_runner_work_password_manager_password_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__","NavList","ul","_templateObject2","NavItem","li","_templateObject3","Link","NavLink","_templateObject4","UserInfo","div","_templateObject5","UserName","p","_templateObject6","FormTitle","h1","_templateObject7","FormContainer","_templateObject8","FormRegistration","Form","_templateObject9","HeadTitle","_templateObject10","FormStyled","_templateObject11","LabelStyled","label","_templateObject12","FieldStyled","Field","_templateObject13","ButtonStyled","button","_templateObject14","ContactItem","span","_templateObject15","Error","_templateObject16","axios","defaults","baseURL","token","headers","common","Authorization","concat","register","createAsyncThunk","_home_runner_work_password_manager_password_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__","_regeneratorRuntime","mark","_callee","credentials","_yield$axios$post","data","wrap","_context","prev","next","post","sent","abrupt","t0","message","stop","_x","apply","this","arguments","logIn","_ref2","_callee2","_yield$axios$post2","_context2","console","log","_x2","_callee3","_context3","_ref4","_callee4","_","thunkAPI","persistedToken","_yield$axios$get","_context4","getState","rejectWithValue","get","_x3","_x4","materialsApi","createApi","reducerPath","baseQuery","baseUrl","length","undefined","_ref3","_home_runner_work_password_manager_password_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","url","method","params","result","err","error","status","response","axiosBaseQuery","tagTypes","endpoints","builder","getContacts","query","providesTags","addContact","mutation","values","invalidatesTags","deleteContact","id","authSlice","createSlice","initialState","email","extraReducers","_extraReducers","_home_runner_work_password_manager_password_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__","fulfilled","action","payload","pending","rejected","persistConfig","key","storage","whitelist","middleware","_home_runner_work_password_manager_password_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","configureStore","reducer","_reducer","persistReducer","devTools","process","persistStore","useGetContactsQuery","useAddContactMutation","useDeleteContactMutation"],"mappings":"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","file":"static/js/main.8fcdb328.chunk.js","sourcesContent":["import { useSelector } from 'react-redux';\n\nexport const useAuth = () => {\n  const isLoggedIn = useSelector(state => state.auth.isLoggedIn);\n  const isRefreshing = useSelector(state => state.auth.isRefreshingUser);\n  const user = useSelector(state => state.auth.user);\n\n  return {\n    isLoggedIn,\n    isRefreshing,\n    user,\n  };\n};\n","import { Outlet } from 'react-router-dom';\nimport React from 'react';\nimport { Suspense } from 'react';\nimport Avatar from '@mui/material/Avatar';\nimport Stack from '@mui/material/Stack';\nimport Button from '@mui/material/Button';\nimport { useAuth } from '../../hooks/useAuth';\nimport { useDispatch } from 'react-redux';\nimport operations from '../../Redux/authOperations';\n\nimport {\n  UserInfo,\n  UserName,\n  NavList,\n  NavigationWrap,\n  NavItem,\n  Link,\n} from '../Contacts/PhoneBook.styled';\n\nconst SharedLayout = () => {\n  const { isLoggedIn, user } = useAuth();\n  const dispatch = useDispatch();\n  return (\n    <>\n      <header>\n        <NavigationWrap>\n          <NavList>\n            {isLoggedIn ? (\n              <>\n                <NavItem>\n                  <Link to=\"/contacts\">Contacts</Link>\n                </NavItem>\n              </>\n            ) : (\n              <>\n                <NavItem>\n                  <Link to=\"/registration\">Registration</Link>\n                </NavItem>\n                <NavItem>\n                  <Link to=\"/login\">Login</Link>\n                </NavItem>\n              </>\n            )}\n          </NavList>\n\n          <UserInfo>\n            <UserName>{user.name}</UserName>\n            <Stack direction=\"row\" spacing={1}>\n              <Avatar src=\"/broken-image.jpg\" />\n            </Stack>\n\n            {isLoggedIn && (\n              <Button\n                variant=\"outlined\"\n                size=\"small\"\n                onClick={() => dispatch(operations.logOut())}\n              >\n                LogOut\n              </Button>\n            )}\n          </UserInfo>\n        </NavigationWrap>\n      </header>\n\n      <Suspense fallback={null}>\n        <Outlet />\n      </Suspense>\n    </>\n  );\n};\n\nexport default SharedLayout;\n","import React from 'react';\nimport { useAuth } from '../hooks/useAuth';\nimport { Navigate } from 'react-router-dom';\n\n/**\n * - Если маршрут приватный и пользователь залогинен, рендерит компонент\n * - В противном случае рендерит Redirect на redirectTo\n */\n\nexport default function PrivateRoute({\n  component: Component,\n  redirectTo = '/',\n}) {\n  const { isLoggedIn, isRefreshing } = useAuth();\n\n  const shouldRedirect = !isLoggedIn && !isRefreshing;\n  return shouldRedirect ? <Navigate to={redirectTo} /> : Component;\n}\n","import React from 'react';\nimport { useAuth } from '../hooks/useAuth';\nimport { Navigate } from 'react-router-dom';\n\n/**\n * - Если маршрут ограниченный, и юзер залогинен, рендерит редирект на redirectTo\n * - В противном случае рендерит компонент\n */\n\nexport default function PublicRoute({\n  restricted = false,\n  redirectTo = '/',\n  component: Component,\n}) {\n  const { isLoggedIn } = useAuth();\n  const shouldRedirect = isLoggedIn && restricted;\n  return shouldRedirect ? <Navigate to={redirectTo} /> : Component;\n}\n","import React from 'react';\nimport { Route, Routes } from 'react-router-dom';\nimport SharedLayout from './SharedLayout/SharedLayout';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useEffect, lazy } from 'react';\nimport authOperations from '../Redux/authOperations';\nimport PrivateRoute from './PrivateRoute';\nimport PublicRoute from './PublicRoute';\n\nconst Registration = lazy(() => import('./Registration/Registration'));\nconst Login = lazy(() => import('./Login/Login'));\nconst Contacts = lazy(() => import('./Contacts/Contacts'));\n\nexport function App() {\n  const dispatch = useDispatch();\n  const isRefreshingUser = useSelector(state => state.auth.isRefreshingUser);\n\n  useEffect(() => {\n    dispatch(authOperations.fetchCurrentUser());\n  }, [dispatch]);\n\n  return (\n    <>\n      {isRefreshingUser ? (\n        'updating user...'\n      ) : (\n        <Routes>\n          <Route path=\"/\" element={<SharedLayout />}>\n            <Route\n              index\n              element={\n                <PrivateRoute redirectTo=\"/contacts\" component={<Contacts />} />\n              }\n            />\n            <Route\n              path=\"/registration\"\n              element={\n                <PublicRoute\n                  restricted\n                  redirectTo=\"/contacts\"\n                  component={<Registration />}\n                />\n              }\n            />\n            <Route\n              path=\"/login\"\n              element={\n                <PublicRoute\n                  restricted\n                  redirectTo=\"/contacts\"\n                  component={<Login />}\n                />\n              }\n            />\n            <Route\n              path=\"/contacts\"\n              element={\n                <PrivateRoute redirectTo=\"/login\" component={<Contacts />} />\n              }\n            />\n          </Route>\n        </Routes>\n      )}\n    </>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport { App } from './components/App';\nimport './index.css';\nimport { Provider } from 'react-redux';\nimport { store } from './components/store';\nimport { BrowserRouter } from 'react-router-dom';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport { persistor } from './components/store';\n\nReactDOM.createRoot(document.getElementById('root')).render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <BrowserRouter basename=\"/password-manager/\">\n          {/* <BrowserRouter> */}\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>\n);\n","import styled from 'styled-components';\nimport { Field, Form } from 'formik';\nimport { NavLink } from 'react-router-dom';\n\n////////////Header//////////////\n\nexport const NavigationWrap = styled.nav`\n  display: flex;\n  justify-content: space-between;\n  margin-top: 15px;\n  padding-bottom: 15px;\n  box-shadow: 0px 3px 1px -4px rgb(0 0 0 / 20%),\n    0px 2px 2px -1px rgb(0 0 0 / 14%), 0px 1px 5px -2px rgb(0 0 0 / 12%);\n`;\n\nexport const NavList = styled.ul`\n  display: flex;\n  align-items: center;\n`;\n\nexport const NavItem = styled.li`\n  margin-left: 15px;\n  margin-right: 15px;\n`;\n\nexport const Link = styled(NavLink)`\n  font-size: 16px;\n  font-weight: 700;\n  color: black;\n  text-decoration: none;\n\n  &.active {\n    color: orangered;\n  }\n`;\n\nexport const UserInfo = styled.div`\n  display: flex;\n  align-items: center;\n  margin-right: 15px;\n`;\n\nexport const UserName = styled.p`\n  margin-right: 10px;\n`;\n\n////////////Registration//////////////\n\nexport const FormTitle = styled.h1`\n  margin-top: 15px;\n  display: inline;\n`;\n\nexport const FormContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nexport const FormRegistration = styled(Form)`\n  width: 175px;\n  padding: 10px;\n`;\n\n////////////Contacts//////////////\n\nexport const HeadTitle = styled.p`\n  font-size: 25px;\n  font-weight: 700;\n  margin: 15px 0;\n`;\n\nexport const FormStyled = styled(Form)`\n  background-color: azure;\n  border: 1px solid lightgray;\n  width: 300px;\n  padding: 10px;\n`;\n\nexport const LabelStyled = styled.label`\n  display: block;\n  margin-bottom: 15px;\n  font-weight: 500;\n  width: 50px;\n`;\n\nexport const FieldStyled = styled(Field)`\n  border: 1px solid lightgray;\n  width: 250px;\n`;\n\nexport const ButtonStyled = styled.button`\n  font-size: 12px;\n  background-color: white;\n  border: 1px solid lightgray;\n  padding: 3px 6px;\n`;\n\nexport const ContactItem = styled.span`\n  display: inline-flex;\n  margin-top: 10px;\n  margin-right: 10px;\n  font-weight: 500;\n`;\n\nexport const Error = styled.div`\n  font-size: 14px;\n  width: 250px;\n  color: red;\n`;\n","import axios from 'axios';\nimport { createAsyncThunk } from '@reduxjs/toolkit';\n\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unset() {\n    axios.defaults.headers.common.Authorization = '';\n  },\n};\n\n/*\n * POST @ /users/signup\n * body: { name, email, password }\n * После успешной регистрации добавляем токен в HTTP-заголовок\n */\nconst register = createAsyncThunk('auth/register', async credentials => {\n  try {\n    const { data } = await axios.post('/users/signup', credentials);\n    token.set(data.token);\n\n    return data;\n  } catch (error) {\n    throw new Error(error.message);\n  }\n});\n\n/*\n * POST @ /users/login\n * body: { email, password }\n * После успешного логина добавляем токен в HTTP-заголовок\n */\nconst logIn = createAsyncThunk('auth/login', async credentials => {\n  try {\n    const { data } = await axios.post('/users/login', credentials);\n    console.log('set Token and data Login:', data);\n    token.set(data.token);\n    return data;\n  } catch (error) {\n    throw new Error(error.message);\n  }\n});\n\n/*\n * POST @ /users/logout\n * headers: Authorization: Bearer token\n * После успешного логаута, удаляем токен из HTTP-заголовка\n */\nconst logOut = createAsyncThunk('auth/logout', async () => {\n  try {\n    await axios.post('/users/logout');\n    token.unset();\n  } catch (error) {\n    throw new Error(error.message);\n  }\n});\n/*\n * GET @ /users/current\n * headers:\n *    Authorization: Bearer token\n *\n * 1. Забираем токен из стейта через getState()\n * 2. Если токена нет, выходим не выполняя никаких операций\n * 3. Если токен есть, добавляет его в HTTP-заголовок и выполянем операцию\n */\nconst fetchCurrentUser = createAsyncThunk(\n  'auth/refresh',\n  async (_, thunkAPI) => {\n    const state = thunkAPI.getState();\n    const persistedToken = state.auth.token;\n\n    if (persistedToken === null) {\n      console.log('Токена нет, уходим из fetchCurrentUser');\n      return thunkAPI.rejectWithValue();\n    }\n\n    token.set(persistedToken);\n    try {\n      const { data } = await axios.get('/users/current');\n      return data;\n    } catch (error) {\n      // TODO: Добавить обработку ошибки error.message\n    }\n  }\n);\n\nconst operations = {\n  register,\n  logOut,\n  logIn,\n  fetchCurrentUser,\n};\nexport default operations;\n","import {\n  configureStore,\n  getDefaultMiddleware,\n  createSlice,\n} from '@reduxjs/toolkit';\nimport { createApi } from '@reduxjs/toolkit/query/react';\nimport authOperations from '../Redux/authOperations';\nimport axios from 'axios';\nimport storage from 'redux-persist/lib/storage';\n\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from 'redux-persist';\n\nconst axiosBaseQuery =\n  ({ baseUrl } = { baseUrl: '' }) =>\n  async ({ url, method, data, params }) => {\n    try {\n      const result = await axios({ url: baseUrl + url, method, data, params });\n      return { data: result.data };\n    } catch (axiosError) {\n      let err = axiosError;\n      return {\n        error: {\n          status: err.response.status,\n          data: err.response.data || err.message,\n        },\n      };\n    }\n  };\n\nexport const materialsApi = createApi({\n  reducerPath: 'contacts',\n  baseQuery: axiosBaseQuery({\n    baseUrl: 'https://connections-api.herokuapp.com',\n  }),\n  tagTypes: ['Contact'],\n\n  endpoints: builder => ({\n    getContacts: builder.query({\n      query: () => ({ url: `/contacts` }),\n      providesTags: ['Contact'],\n    }),\n    addContact: builder.mutation({\n      query: values => ({\n        url: `/contacts`,\n        method: 'POST',\n        data: values,\n      }),\n      invalidatesTags: ['Contact'],\n    }),\n    deleteContact: builder.mutation({\n      query: id => ({\n        url: `/contacts/${id}`,\n        method: 'DELETE',\n      }),\n      invalidatesTags: ['Contact'],\n    }),\n  }),\n});\n\n////////////////////////////////////////////////\n///////////////////authSlice////////////////////\n////////////////////////////////////////////////\n\nexport const initialState = {\n  user: { name: null, email: null },\n  token: null,\n  isLoggedIn: false,\n  isRefreshingUser: false,\n};\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  extraReducers: {\n    [authOperations.register.fulfilled](state, action) {\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.isLoggedIn = true;\n    },\n    [authOperations.logIn.fulfilled](state, action) {\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.isLoggedIn = true;\n    },\n    [authOperations.logOut.fulfilled](state) {\n      state.user = { name: null, email: null };\n      state.token = null;\n      state.isLoggedIn = false;\n    },\n    [authOperations.fetchCurrentUser.pending](state) {\n      state.isRefreshingUser = true;\n    },\n    [authOperations.fetchCurrentUser.fulfilled](state, action) {\n      state.user = action.payload;\n      state.isLoggedIn = true;\n      state.isRefreshingUser = false;\n    },\n    [authOperations.fetchCurrentUser.rejected](state) {\n      state.isRefreshingUser = false;\n    },\n  },\n});\n\n////////////////////////////////////////////\n////////////////PERSISTOR///////////////////\n////////////////////////////////////////////\n\nconst persistConfig = {\n  key: 'auth',\n  storage,\n  whitelist: ['token'],\n};\n\nconst middleware = [\n  ...getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  }),\n  materialsApi.middleware,\n];\n\n////////////////////////////////////////////\n///////////////////STORE////////////////////\n////////////////////////////////////////////\n\nexport const store = configureStore({\n  reducer: {\n    [materialsApi.reducerPath]: materialsApi.reducer,\n    auth: persistReducer(persistConfig, authSlice.reducer),\n  },\n  middleware,\n  devTools: process.env.NODE_ENV === 'development',\n});\n\nexport const persistor = persistStore(store);\n\nexport const {\n  useGetContactsQuery,\n  useAddContactMutation,\n  useDeleteContactMutation,\n} = materialsApi;\n"],"sourceRoot":""}